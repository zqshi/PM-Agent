<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProductCoCreate AI - æŒ‘æˆ˜ä¸è£å†³</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#4f46e5',
                        success: '#10b981',
                        warning: '#f59e0b',
                        danger: '#ef4444'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: #f8fafc;
        }
        .sidebar {
            width: 250px;
        }
        .challenge-card {
            transition: all 0.3s ease;
        }
        .decision-option {
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid #e5e7eb;
        }
        .decision-option:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .decision-option input[type="radio"]:checked + .option-content {
            border-color: #2563eb;
            background-color: #dbeafe;
        }
        .challenge-nav-item {
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .challenge-nav-item:hover {
            background-color: #f3f4f6;
        }
        .challenge-nav-item.active {
            background-color: #dbeafe;
            border-left: 4px solid #2563eb;
        }
        .custom-input-area {
            display: none;
            margin-top: 12px;
        }
        .custom-input-area.active {
            display: block;
        }
    </style>
</head>
<body class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="sidebar bg-white shadow-md h-screen fixed left-0 top-0 z-10">
        <div class="p-4 flex items-center justify-between border-b">
            <div class="flex items-center">
                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/e10cd3e372b34c81bd38e133e4bd5b6f~tplv-a9rns2rl98-image.image?rcl=202510281322428F39A82D876F62A3D046&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1764221004&x-signature=F1qcXPuf02II05L0PsQjVA3rO4o%3D" alt="Logo" class="h-8">
                <h1 class="ml-2 text-lg font-bold text-gray-800">ProductCoCreate</h1>
            </div>
        </div>
        <nav class="mt-4">
            <ul>
                <li>
                    <a href="dashboard.html" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all">
                        <i class="fa fa-dashboard w-6 text-center"></i>
                        <span class="ml-3">ä»ªè¡¨ç›˜</span>
                    </a>
                </li>
                <li>
                    <a href="project-management.html" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all">
                        <i class="fa fa-folder-open w-6 text-center"></i>
                        <span class="ml-3">é¡¹ç›®ç®¡ç†</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="bg-blue-50 text-primary border-l-4 border-primary flex items-center px-4 py-3 hover:bg-blue-50 transition-all">
                        <i class="fa fa-gavel w-6 text-center"></i>
                        <span class="ml-3">æŒ‘æˆ˜ä¸è£å†³</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all" onclick="event.preventDefault(); alert('ç³»ç»Ÿè®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼');">
                        <i class="fa fa-cog w-6 text-center"></i>
                        <span class="ml-3">ç³»ç»Ÿè®¾ç½®</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="ml-64 flex-1 min-h-screen flex">
        <!-- Left: Challenge Navigation -->
        <div class="w-80 bg-white border-r h-screen sticky top-0 overflow-y-auto">
            <div class="p-6 border-b">
                <h2 class="text-xl font-bold text-gray-800 mb-2">æŒ‘æˆ˜é—®é¢˜åˆ—è¡¨</h2>
                <p class="text-sm text-gray-600">å…± 3 ä¸ªå¾…è£å†³é—®é¢˜</p>
                <div class="mt-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-gray-700">è£å†³è¿›åº¦</span>
                        <span class="text-sm font-medium text-primary" id="navProgressText">0/3</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full transition-all duration-500" style="width: 0%" id="navProgressBar"></div>
                    </div>
                </div>
            </div>

            <div class="p-4 space-y-2" id="challengeNav">
                <div class="challenge-nav-item active p-4 rounded-lg border" data-challenge-id="1" onclick="switchChallenge(1)">
                    <div class="flex items-start justify-between mb-2">
                        <span class="text-sm font-bold text-gray-800">é—®é¢˜ 1</span>
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs" data-status="pending">å¾…è£å†³</span>
                    </div>
                    <p class="text-sm text-gray-600">ç”¨æˆ·æ•…äº‹ç²’åº¦è¿‡ç²—</p>
                </div>

                <div class="challenge-nav-item p-4 rounded-lg border" data-challenge-id="2" onclick="switchChallenge(2)">
                    <div class="flex items-start justify-between mb-2">
                        <span class="text-sm font-bold text-gray-800">é—®é¢˜ 2</span>
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs" data-status="pending">å¾…è£å†³</span>
                    </div>
                    <p class="text-sm text-gray-600">åŠŸèƒ½è¾¹ç•Œä¸æ¸…æ™°</p>
                </div>

                <div class="challenge-nav-item p-4 rounded-lg border" data-challenge-id="3" onclick="switchChallenge(3)">
                    <div class="flex items-start justify-between mb-2">
                        <span class="text-sm font-bold text-gray-800">é—®é¢˜ 3</span>
                        <span class="px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs" data-status="pending">å¾…è£å†³</span>
                    </div>
                    <p class="text-sm text-gray-600">éªŒæ”¶æ ‡å‡†ä¸å¤Ÿå…·ä½“</p>
                </div>
            </div>
        </div>

        <!-- Right: Challenge Details -->
        <div class="flex-1 p-6 overflow-y-auto">
            <!-- Breadcrumb -->
            <nav class="flex mb-6 text-sm">
                <a href="project-management.html" class="text-primary hover:text-secondary">é¡¹ç›®ç®¡ç†</a>
                <span class="mx-2 text-gray-400">/</span>
                <a href="project-detail.html?id=1" class="text-primary hover:text-secondary">ç§»åŠ¨åº”ç”¨é‡æ–°è®¾è®¡</a>
                <span class="mx-2 text-gray-400">/</span>
                <a href="version-detail.html?projectId=1&versionId=2" class="text-primary hover:text-secondary">v2.0</a>
                <span class="mx-2 text-gray-400">/</span>
                <span class="text-gray-600">æŒ‘æˆ˜ä¸è£å†³</span>
            </nav>

            <!-- Header -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <div class="flex items-start justify-between">
                    <div class="flex-1">
                        <div class="flex items-center mb-3">
                            <h1 class="text-3xl font-bold text-gray-800">æ­¥éª¤1.4-1.7ï¼šæŒ‘æˆ˜ä¸è£å†³</h1>
                            <span class="ml-4 px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium">
                                <i class="fa fa-gavel mr-1"></i>å¾…è£å†³
                            </span>
                        </div>
                        <p class="text-gray-600 mb-4">æŒ‘æˆ˜Agentå·²è¯†åˆ«è®¾è®¡æ–‡æ¡£ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œè®¾è®¡Agentå·²è¿›è¡Œå›åº”ï¼Œè¯·æ‚¨è¿›è¡Œæœ€ç»ˆè£å†³ã€‚</p>
                        <div class="flex items-center space-x-4 text-sm text-gray-600">
                            <span><i class="fa fa-calendar mr-2"></i>å¼€å§‹æ—¶é—´: 2025-10-28 14:20</span>
                            <span><i class="fa fa-user mr-2"></i>è´Ÿè´£äºº: å¼ ä¸‰</span>
                            <span><i class="fa fa-list mr-2"></i>é—®é¢˜æ•°é‡: 3ä¸ª</span>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all" onclick="saveAllDecisions()">
                            <i class="fa fa-save mr-2"></i>ä¿å­˜æ‰€æœ‰è£å†³
                        </button>
                        <button class="px-4 py-2 bg-primary text-white rounded-md hover:bg-secondary transition-all" id="submitBtn" onclick="submitAllDecisions()" disabled>
                            <i class="fa fa-check mr-2"></i>æäº¤è£å†³
                        </button>
                    </div>
                </div>
            </div>

            <!-- Challenge Content -->
            <div id="challengeContent">
                <!-- Challenge 1 -->
                <div class="challenge-detail" data-challenge-id="1" style="display: block;">
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-2xl font-bold text-gray-800">
                                <span class="inline-block w-8 h-8 bg-primary text-white rounded-full text-center leading-8 mr-2">1</span>
                                ç”¨æˆ·æ•…äº‹ç²’åº¦è¿‡ç²—
                            </h2>
                            <span class="text-sm text-gray-500">é—®é¢˜æ¥æº: æ­¥éª¤1.3 éœ€æ±‚è®¾è®¡æ–‡æ¡£</span>
                        </div>

                        <!-- ä¸‰æ®µå¼å±•ç¤º -->
                        <!-- 1. æŒ‘æˆ˜Agentè§‚ç‚¹ -->
                        <div class="challenge-card bg-red-50 border-l-4 border-red-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-exclamation-triangle"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”´ æŒ‘æˆ˜Agentè§‚ç‚¹</h3>
                                    <p class="text-xs text-gray-500">ç”±æŒ‘æˆ˜Agentæå‡ºçš„æ½œåœ¨é—®é¢˜</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>é—®é¢˜æè¿°ï¼š</strong>å½“å‰è®¾è®¡æ–‡æ¡£ä¸­çš„ç”¨æˆ·æ•…äº‹"äº§å“ç»ç†ç®¡ç†éœ€æ±‚è®¾è®¡æµç¨‹"èŒƒå›´è¿‡å¤§ï¼Œç²’åº¦è¿‡ç²—ï¼Œä¸ç¬¦åˆINVESTåŸåˆ™ä¸­çš„"Small"ç‰¹æ€§ã€‚
                                </p>
                                <p class="text-gray-700 mb-3">
                                    <strong>å…·ä½“åˆ†æï¼š</strong>
                                </p>
                                <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
                                    <li>è¯¥ç”¨æˆ·æ•…äº‹æ¶µç›–äº†13ä¸ªå­æ­¥éª¤ï¼Œè¿‡äºåºå¤§</li>
                                    <li>æ— æ³•åœ¨ä¸€ä¸ªSprintå†…å®Œæˆ</li>
                                    <li>éš¾ä»¥è¿›è¡Œå·¥ä½œé‡ä¼°ç®—</li>
                                    <li>å¢åŠ äº†å¼€å‘å’Œæµ‹è¯•çš„å¤æ‚åº¦</li>
                                </ul>
                                <p class="text-gray-700 mt-3">
                                    <strong>å»ºè®®ä¿®æ”¹æ–¹æ¡ˆï¼š</strong>å°†å¤§ç”¨æˆ·æ•…äº‹æ‹†åˆ†ä¸º3-5ä¸ªç‹¬ç«‹çš„ã€å¯ç‹¬ç«‹äº¤ä»˜çš„å°ç”¨æˆ·æ•…äº‹ï¼Œä¾‹å¦‚ï¼š
                                </p>
                                <ul class="list-decimal list-inside text-gray-700 space-y-1 ml-4 mt-2">
                                    <li>ä½œä¸ºäº§å“ç»ç†ï¼Œæˆ‘å¸Œæœ›èƒ½æ¾„æ¸…éœ€æ±‚ç»†èŠ‚</li>
                                    <li>ä½œä¸ºäº§å“ç»ç†ï¼Œæˆ‘å¸Œæœ›èƒ½è¿›è¡Œå¸‚åœºè°ƒç ”åˆ†æ</li>
                                    <li>ä½œä¸ºäº§å“ç»ç†ï¼Œæˆ‘å¸Œæœ›èƒ½ç”Ÿæˆæ ‡å‡†åŒ–éœ€æ±‚æ–‡æ¡£</li>
                                </ul>
                            </div>
                        </div>

                        <!-- 2. è®¾è®¡Agentå›åº” -->
                        <div class="challenge-card bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-reply"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”µ è®¾è®¡Agentå›åº”</h3>
                                    <p class="text-xs text-gray-500">è®¾è®¡Agentå¯¹æŒ‘æˆ˜çš„å›åº”å’Œè¾©æŠ¤</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>å›åº”è§‚ç‚¹ï¼š</strong>éƒ¨åˆ†åŒæ„æŒ‘æˆ˜Agentçš„è§‚ç‚¹ï¼Œä½†å»ºè®®é‡‡ç”¨Epic-Storyå±‚çº§ç»“æ„è€Œéå®Œå…¨æ‹†åˆ†ã€‚
                                </p>
                                <p class="text-gray-700 mb-3">
                                    <strong>ç†ç”±åˆ†æï¼š</strong>
                                </p>
                                <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
                                    <li>éœ€æ±‚è®¾è®¡æµç¨‹å…·æœ‰å†…åœ¨çš„é€»è¾‘è¿è´¯æ€§ï¼Œå®Œå…¨æ‹†åˆ†å¯èƒ½ç ´åæ•´ä½“æ€§</li>
                                    <li>äº§å“ç»ç†éœ€è¦åœ¨ä¸€ä¸ªç»Ÿä¸€çš„è§†å›¾ä¸­ç®¡ç†æ•´ä¸ªæµç¨‹</li>
                                    <li>æŸäº›å­æ­¥éª¤ä¹‹é—´å­˜åœ¨å¼ºä¾èµ–å…³ç³»ï¼Œä¸å®œåˆ†ç¦»</li>
                                </ul>
                                <p class="text-gray-700 mt-3">
                                    <strong>å»ºè®®æ–¹æ¡ˆï¼š</strong>ä¿ç•™"äº§å“ç»ç†ç®¡ç†éœ€æ±‚è®¾è®¡æµç¨‹"ä½œä¸ºEpicï¼ˆå²è¯—ï¼‰ï¼Œä¸‹å±‚æ‹†åˆ†ä¸º5ä¸ªå…·ä½“çš„User Storyï¼š
                                </p>
                                <ul class="list-decimal list-inside text-gray-700 space-y-1 ml-4 mt-2">
                                    <li>éœ€æ±‚æ¾„æ¸…ä¸æ”¶é›† (åŒ…å«æ­¥éª¤1.1)</li>
                                    <li>å¸‚åœºè°ƒç ”ä¸åˆ†æ (åŒ…å«æ­¥éª¤1.2)</li>
                                    <li>éœ€æ±‚è®¾è®¡ä¸æ–‡æ¡£ç”Ÿæˆ (åŒ…å«æ­¥éª¤1.3)</li>
                                    <li>è®¾è®¡æŒ‘æˆ˜ä¸è£å†³ (åŒ…å«æ­¥éª¤1.4-1.7)</li>
                                    <li>æ–‡æ¡£è¯„ä¼°ä¸ç²¾ç‚¼ (åŒ…å«æ­¥éª¤1.8-1.13)</li>
                                </ul>
                                <p class="text-gray-700 mt-3 text-sm italic">
                                    è¿™æ ·æ—¢ä¿ç•™äº†æµç¨‹çš„æ•´ä½“æ€§ï¼Œåˆæ»¡è¶³äº†Storyçš„ç²’åº¦è¦æ±‚ã€‚
                                </p>
                            </div>
                        </div>

                        <!-- 3. äººç±»è£å†³ -->
                        <div class="challenge-card bg-gradient-to-br from-purple-50 to-indigo-50 border-l-4 border-purple-500 rounded-lg p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-user"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ‘¤ æ‚¨çš„è£å†³å†³ç­–</h3>
                                    <p class="text-xs text-gray-500">è¯·é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆæˆ–æå‡ºè‡ªå®šä¹‰ä¿®æ”¹æ„è§</p>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <!-- Option 1: é‡‡çº³æŒ‘æˆ˜ -->
                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_1" value="adopt_challenge" class="hidden" onchange="handleDecisionChange(1, 'adopt_challenge')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³æŒ‘æˆ˜Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">å°†å¤§ç”¨æˆ·æ•…äº‹æ‹†åˆ†ä¸º3-5ä¸ªç‹¬ç«‹çš„å°ç”¨æˆ·æ•…äº‹ï¼Œå®Œå…¨æ¶ˆé™¤ç²’åº¦è¿‡ç²—çš„é—®é¢˜ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <!-- Option 2: é‡‡çº³å›åº” -->
                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_1" value="adopt_response" class="hidden" onchange="handleDecisionChange(1, 'adopt_response')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³è®¾è®¡Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">é‡‡ç”¨Epic-Storyå±‚çº§ç»“æ„ï¼Œä¿ç•™Epicå¹¶æ‹†åˆ†ä¸º5ä¸ªå­Storyï¼Œå…¼é¡¾æ•´ä½“æ€§å’Œç²’åº¦ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <!-- Option 3: è‡ªå®šä¹‰ä¿®æ”¹ -->
                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_1" value="custom" class="hidden" onchange="handleDecisionChange(1, 'custom')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600 mb-3">æå‡ºæ‚¨è‡ªå·±çš„è§£å†³æ–¹æ¡ˆ</p>
                                                <div class="custom-input-area" data-challenge-id="1">
                                                    <textarea
                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                        rows="4"
                                                        placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ...&#10;&#10;ä¾‹å¦‚ï¼š&#10;é‡‡ç”¨Epic-Storyç»“æ„ï¼Œä½†Storyæ•°é‡é™åˆ¶åœ¨3ä¸ªä»¥å†…ï¼Œæ¯ä¸ªStoryè¦†ç›–æ›´å¤§çš„åŠŸèƒ½èŒƒå›´..."
                                                        data-custom-input="1"
                                                        oninput="handleCustomInput(1)"
                                                    ></textarea>
                                                    <p class="text-xs text-gray-500 mt-2">å·²è¾“å…¥ <span id="customCharCount1">0</span> å­—ç¬¦</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="flex items-center justify-between mt-6">
                        <button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all" disabled>
                            <i class="fa fa-chevron-left mr-2"></i>ä¸Šä¸€ä¸ªé—®é¢˜
                        </button>
                        <button class="px-6 py-2 bg-primary text-white rounded-md hover:bg-secondary transition-all" onclick="switchChallenge(2)">
                            ä¸‹ä¸€ä¸ªé—®é¢˜<i class="fa fa-chevron-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Challenge 2 -->
                <div class="challenge-detail" data-challenge-id="2" style="display: none;">
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-2xl font-bold text-gray-800">
                                <span class="inline-block w-8 h-8 bg-primary text-white rounded-full text-center leading-8 mr-2">2</span>
                                åŠŸèƒ½è¾¹ç•Œä¸æ¸…æ™°
                            </h2>
                            <span class="text-sm text-gray-500">é—®é¢˜æ¥æº: æ­¥éª¤1.3 éœ€æ±‚è®¾è®¡æ–‡æ¡£</span>
                        </div>

                        <!-- ä¸‰æ®µå¼å±•ç¤º -->
                        <div class="challenge-card bg-red-50 border-l-4 border-red-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-exclamation-triangle"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”´ æŒ‘æˆ˜Agentè§‚ç‚¹</h3>
                                    <p class="text-xs text-gray-500">ç”±æŒ‘æˆ˜Agentæå‡ºçš„æ½œåœ¨é—®é¢˜</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>é—®é¢˜æè¿°ï¼š</strong>éœ€æ±‚è®¾è®¡æ–‡æ¡£ä¸­æåˆ°"ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ"ï¼Œä½†æœªæ˜ç¡®è¯´æ˜é›†æˆçš„èŒƒå›´å’Œè¾¹ç•Œã€‚
                                </p>
                                <p class="text-gray-700 mb-3">
                                    <strong>å…·ä½“åˆ†æï¼š</strong>
                                </p>
                                <ul class="list-disc list-inside text-gray-700 space-y-1 ml-4">
                                    <li>æœªè¯´æ˜éœ€è¦ä¸å“ªäº›ç³»ç»Ÿé›†æˆ</li>
                                    <li>æœªå®šä¹‰é›†æˆçš„æ·±åº¦ï¼ˆæ•°æ®åŒæ­¥ vs APIè°ƒç”¨ï¼‰</li>
                                    <li>ç¼ºå°‘é›†æˆå¤±è´¥çš„é™çº§æ–¹æ¡ˆ</li>
                                </ul>
                                <p class="text-gray-700 mt-3">
                                    <strong>å»ºè®®ä¿®æ”¹æ–¹æ¡ˆï¼š</strong>æ˜ç¡®é›†æˆèŒƒå›´ï¼Œåˆ—å‡ºæ‰€æœ‰é›†æˆç‚¹ï¼Œå®šä¹‰é›†æˆæ¥å£è§„èŒƒã€‚
                                </p>
                            </div>
                        </div>

                        <div class="challenge-card bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-reply"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”µ è®¾è®¡Agentå›åº”</h3>
                                    <p class="text-xs text-gray-500">è®¾è®¡Agentå¯¹æŒ‘æˆ˜çš„å›åº”å’Œè¾©æŠ¤</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>å›åº”è§‚ç‚¹ï¼š</strong>åŒæ„æŒ‘æˆ˜Agentçš„è§‚ç‚¹ï¼Œè¿™ç¡®å®æ˜¯éœ€è¦è¡¥å……çš„å†…å®¹ã€‚
                                </p>
                                <p class="text-gray-700 mb-3">
                                    <strong>å»ºè®®è¡¥å……ï¼š</strong>
                                </p>
                                <ul class="list-decimal list-inside text-gray-700 space-y-1 ml-4">
                                    <li>æ·»åŠ "ç³»ç»Ÿé›†æˆ"ç« èŠ‚ï¼Œæ˜ç¡®é›†æˆèŒƒå›´</li>
                                    <li>åˆ—å‡ºéœ€è¦é›†æˆçš„ç³»ç»Ÿæ¸…å•ï¼ˆCRMã€ERPç­‰ï¼‰</li>
                                    <li>å®šä¹‰é›†æˆæ–¹å¼å’ŒæŠ€æœ¯æ–¹æ¡ˆ</li>
                                    <li>åˆ¶å®šé›†æˆå¼‚å¸¸å¤„ç†ç­–ç•¥</li>
                                </ul>
                            </div>
                        </div>

                        <div class="challenge-card bg-gradient-to-br from-purple-50 to-indigo-50 border-l-4 border-purple-500 rounded-lg p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-user"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ‘¤ æ‚¨çš„è£å†³å†³ç­–</h3>
                                    <p class="text-xs text-gray-500">è¯·é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆæˆ–æå‡ºè‡ªå®šä¹‰ä¿®æ”¹æ„è§</p>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_2" value="adopt_challenge" class="hidden" onchange="handleDecisionChange(2, 'adopt_challenge')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³æŒ‘æˆ˜Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">æ˜ç¡®é›†æˆèŒƒå›´ï¼Œåˆ—å‡ºæ‰€æœ‰é›†æˆç‚¹ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_2" value="adopt_response" class="hidden" onchange="handleDecisionChange(2, 'adopt_response')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³è®¾è®¡Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">æ·»åŠ è¯¦ç»†çš„ç³»ç»Ÿé›†æˆç« èŠ‚å’ŒæŠ€æœ¯æ–¹æ¡ˆã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_2" value="custom" class="hidden" onchange="handleDecisionChange(2, 'custom')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600 mb-3">æå‡ºæ‚¨è‡ªå·±çš„è§£å†³æ–¹æ¡ˆ</p>
                                                <div class="custom-input-area" data-challenge-id="2">
                                                    <textarea
                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                        rows="4"
                                                        placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ..."
                                                        data-custom-input="2"
                                                        oninput="handleCustomInput(2)"
                                                    ></textarea>
                                                    <p class="text-xs text-gray-500 mt-2">å·²è¾“å…¥ <span id="customCharCount2">0</span> å­—ç¬¦</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-6">
                        <button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all" onclick="switchChallenge(1)">
                            <i class="fa fa-chevron-left mr-2"></i>ä¸Šä¸€ä¸ªé—®é¢˜
                        </button>
                        <button class="px-6 py-2 bg-primary text-white rounded-md hover:bg-secondary transition-all" onclick="switchChallenge(3)">
                            ä¸‹ä¸€ä¸ªé—®é¢˜<i class="fa fa-chevron-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Challenge 3 -->
                <div class="challenge-detail" data-challenge-id="3" style="display: none;">
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-2xl font-bold text-gray-800">
                                <span class="inline-block w-8 h-8 bg-primary text-white rounded-full text-center leading-8 mr-2">3</span>
                                éªŒæ”¶æ ‡å‡†ä¸å¤Ÿå…·ä½“
                            </h2>
                            <span class="text-sm text-gray-500">é—®é¢˜æ¥æº: æ­¥éª¤1.3 éœ€æ±‚è®¾è®¡æ–‡æ¡£</span>
                        </div>

                        <div class="challenge-card bg-red-50 border-l-4 border-red-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-exclamation-triangle"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”´ æŒ‘æˆ˜Agentè§‚ç‚¹</h3>
                                    <p class="text-xs text-gray-500">ç”±æŒ‘æˆ˜Agentæå‡ºçš„æ½œåœ¨é—®é¢˜</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>é—®é¢˜æè¿°ï¼š</strong>éªŒæ”¶æ ‡å‡†ä½¿ç”¨äº†"ç”¨æˆ·ä½“éªŒè‰¯å¥½"ã€"æ€§èƒ½æ»¡è¶³è¦æ±‚"ç­‰æ¨¡ç³Šæè¿°ï¼Œç¼ºä¹å¯é‡åŒ–çš„æŒ‡æ ‡ã€‚
                                </p>
                                <p class="text-gray-700 mb-3">
                                    <strong>å»ºè®®ä¿®æ”¹æ–¹æ¡ˆï¼š</strong>å°†æ‰€æœ‰éªŒæ”¶æ ‡å‡†æ”¹ä¸ºå¯é‡åŒ–ã€å¯æµ‹è¯•çš„æŒ‡æ ‡ã€‚
                                </p>
                            </div>
                        </div>

                        <div class="challenge-card bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-4">
                            <div class="flex items-center mb-3">
                                <div class="w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-reply"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ”µ è®¾è®¡Agentå›åº”</h3>
                                    <p class="text-xs text-gray-500">è®¾è®¡Agentå¯¹æŒ‘æˆ˜çš„å›åº”å’Œè¾©æŠ¤</p>
                                </div>
                            </div>
                            <div class="bg-white rounded-lg p-4">
                                <p class="text-gray-700 mb-3">
                                    <strong>å›åº”è§‚ç‚¹ï¼š</strong>åŒæ„éœ€è¦å…·ä½“åŒ–ï¼Œå»ºè®®è¡¥å……é‡åŒ–æŒ‡æ ‡ï¼Œä¾‹å¦‚"é¡µé¢åŠ è½½æ—¶é—´<2ç§’"ã€"ç”¨æˆ·æ»¡æ„åº¦â‰¥4.5åˆ†"ç­‰ã€‚
                                </p>
                            </div>
                        </div>

                        <div class="challenge-card bg-gradient-to-br from-purple-50 to-indigo-50 border-l-4 border-purple-500 rounded-lg p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center text-white mr-3">
                                    <i class="fa fa-user"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800">ğŸ‘¤ æ‚¨çš„è£å†³å†³ç­–</h3>
                                    <p class="text-xs text-gray-500">è¯·é€‰æ‹©ä¸€ä¸ªæ–¹æ¡ˆæˆ–æå‡ºè‡ªå®šä¹‰ä¿®æ”¹æ„è§</p>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_3" value="adopt_challenge" class="hidden" onchange="handleDecisionChange(3, 'adopt_challenge')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³æŒ‘æˆ˜Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">å°†æ‰€æœ‰éªŒæ”¶æ ‡å‡†æ”¹ä¸ºå¯é‡åŒ–æŒ‡æ ‡ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_3" value="adopt_response" class="hidden" onchange="handleDecisionChange(3, 'adopt_response')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">é‡‡çº³è®¾è®¡Agentæ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600">è¡¥å……å…·ä½“çš„é‡åŒ–æŒ‡æ ‡å’Œæµ‹è¯•æ–¹æ³•ã€‚</p>
                                            </div>
                                        </div>
                                    </div>
                                </label>

                                <label class="decision-option block rounded-lg p-4">
                                    <input type="radio" name="decision_3" value="custom" class="hidden" onchange="handleDecisionChange(3, 'custom')">
                                    <div class="option-content rounded-lg p-4">
                                        <div class="flex items-start">
                                            <div class="flex-shrink-0 mt-1">
                                                <div class="w-5 h-5 rounded-full border-2 border-gray-400 flex items-center justify-center">
                                                    <div class="w-3 h-3 rounded-full bg-primary hidden"></div>
                                                </div>
                                            </div>
                                            <div class="ml-3 flex-1">
                                                <p class="font-bold text-gray-800 mb-1">è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ</p>
                                                <p class="text-sm text-gray-600 mb-3">æå‡ºæ‚¨è‡ªå·±çš„è§£å†³æ–¹æ¡ˆ</p>
                                                <div class="custom-input-area" data-challenge-id="3">
                                                    <textarea
                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                        rows="4"
                                                        placeholder="è¯·è¯¦ç»†æè¿°æ‚¨çš„è‡ªå®šä¹‰ä¿®æ”¹æ–¹æ¡ˆ..."
                                                        data-custom-input="3"
                                                        oninput="handleCustomInput(3)"
                                                    ></textarea>
                                                    <p class="text-xs text-gray-500 mt-2">å·²è¾“å…¥ <span id="customCharCount3">0</span> å­—ç¬¦</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-6">
                        <button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all" onclick="switchChallenge(2)">
                            <i class="fa fa-chevron-left mr-2"></i>ä¸Šä¸€ä¸ªé—®é¢˜
                        </button>
                        <button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-all" disabled>
                            ä¸‹ä¸€ä¸ªé—®é¢˜<i class="fa fa-chevron-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // è£å†³æ•°æ®å­˜å‚¨
        let decisions = {};
        let completedDecisions = 0;
        const totalDecisions = 3;

        // åˆ‡æ¢æŒ‘æˆ˜é—®é¢˜
        function switchChallenge(challengeId) {
            // æ›´æ–°å¯¼èˆªæ 
            document.querySelectorAll('.challenge-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.challenge-nav-item[data-challenge-id="${challengeId}"]`).classList.add('active');

            // æ›´æ–°å†…å®¹åŒº
            document.querySelectorAll('.challenge-detail').forEach(detail => {
                detail.style.display = 'none';
            });
            document.querySelector(`.challenge-detail[data-challenge-id="${challengeId}"]`).style.display = 'block';

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // å¤„ç†è£å†³å†³ç­–
        function handleDecisionChange(challengeId, decisionType) {
            // æ›´æ–°è‡ªå®šä¹‰è¾“å…¥åŒºåŸŸæ˜¾ç¤ºçŠ¶æ€
            const customInputArea = document.querySelector(`.custom-input-area[data-challenge-id="${challengeId}"]`);
            if (decisionType === 'custom') {
                customInputArea.classList.add('active');
            } else {
                customInputArea.classList.remove('active');

                // è®°å½•å†³ç­–
                if (!decisions[challengeId]) {
                    completedDecisions++;
                }
                decisions[challengeId] = {
                    type: decisionType,
                    customText: null
                };
                updateNavigationStatus(challengeId, 'completed');
                updateProgress();
            }
        }

        // å¤„ç†è‡ªå®šä¹‰è¾“å…¥
        function handleCustomInput(challengeId) {
            const textarea = document.querySelector(`textarea[data-custom-input="${challengeId}"]`);
            const charCount = textarea.value.length;
            document.getElementById(`customCharCount${challengeId}`).textContent = charCount;

            // å¦‚æœè¾“å…¥è¶…è¿‡10ä¸ªå­—ç¬¦ï¼Œè®¤ä¸ºå†³ç­–å®Œæˆ
            if (charCount >= 10) {
                if (!decisions[challengeId]) {
                    completedDecisions++;
                }
                decisions[challengeId] = {
                    type: 'custom',
                    customText: textarea.value
                };
                updateNavigationStatus(challengeId, 'completed');
            } else {
                if (decisions[challengeId]) {
                    completedDecisions--;
                }
                delete decisions[challengeId];
                updateNavigationStatus(challengeId, 'pending');
            }
            updateProgress();
        }

        // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
        function updateNavigationStatus(challengeId, status) {
            const statusBadge = document.querySelector(`.challenge-nav-item[data-challenge-id="${challengeId}"] [data-status]`);
            if (status === 'completed') {
                statusBadge.innerHTML = 'å·²è£å†³';
                statusBadge.className = 'px-2 py-1 bg-green-100 text-green-700 rounded text-xs';
            } else {
                statusBadge.innerHTML = 'å¾…è£å†³';
                statusBadge.className = 'px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs';
            }
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const percentage = (completedDecisions / totalDecisions) * 100;
            document.getElementById('navProgressBar').style.width = percentage + '%';
            document.getElementById('navProgressText').textContent = `${completedDecisions}/${totalDecisions}`;

            // æ›´æ–°æäº¤æŒ‰é’®çŠ¶æ€
            const submitBtn = document.getElementById('submitBtn');
            if (completedDecisions === totalDecisions) {
                submitBtn.disabled = false;
                submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            } else {
                submitBtn.disabled = true;
                submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        // ä¿å­˜æ‰€æœ‰è£å†³
        function saveAllDecisions() {
            localStorage.setItem('challengeDecisions', JSON.stringify(decisions));

            const toast = document.createElement('div');
            toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            toast.innerHTML = '<i class="fa fa-check-circle mr-2"></i>æ‰€æœ‰è£å†³å·²ä¿å­˜';
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.remove();
            }, 2000);
        }

        // æäº¤æ‰€æœ‰è£å†³
        function submitAllDecisions() {
            if (completedDecisions !== totalDecisions) {
                alert('è¯·å®Œæˆæ‰€æœ‰é—®é¢˜çš„è£å†³');
                return;
            }

            if (confirm(`ç¡®è®¤æäº¤æ‰€æœ‰è£å†³ï¼Ÿ\n\nå·²å®Œæˆ: ${completedDecisions}/${totalDecisions}\n\næäº¤åå°†è§¦å‘è®¾è®¡Agentæ ¹æ®æ‚¨çš„è£å†³è¿›è¡Œè®¾è®¡æ›´æ–°ã€‚`)) {
                const submitBtn = document.getElementById('submitBtn');
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i>æäº¤ä¸­...';

                setTimeout(() => {
                    localStorage.removeItem('challengeDecisions');
                    alert('è£å†³å·²æäº¤ï¼è®¾è®¡Agentå°†æ ¹æ®æ‚¨çš„è£å†³è¿›è¡Œè®¾è®¡æ›´æ–°ã€‚');
                    window.location.href = 'version-detail.html?projectId=1&versionId=2';
                }, 1500);
            }
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤è£å†³
        window.addEventListener('DOMContentLoaded', () => {
            const savedDecisions = localStorage.getItem('challengeDecisions');
            if (savedDecisions) {
                decisions = JSON.parse(savedDecisions);
                completedDecisions = Object.keys(decisions).length;

                // æ¢å¤å†³ç­–çŠ¶æ€
                Object.keys(decisions).forEach(challengeId => {
                    const decision = decisions[challengeId];
                    const radio = document.querySelector(`input[name="decision_${challengeId}"][value="${decision.type}"]`);
                    if (radio) {
                        radio.checked = true;
                        if (decision.type === 'custom' && decision.customText) {
                            const customArea = document.querySelector(`.custom-input-area[data-challenge-id="${challengeId}"]`);
                            customArea.classList.add('active');
                            const textarea = document.querySelector(`textarea[data-custom-input="${challengeId}"]`);
                            textarea.value = decision.customText;
                            document.getElementById(`customCharCount${challengeId}`).textContent = decision.customText.length;
                        }
                    }
                    updateNavigationStatus(parseInt(challengeId), 'completed');
                });

                updateProgress();
            }
        });
    </script>
</body>
</html>
